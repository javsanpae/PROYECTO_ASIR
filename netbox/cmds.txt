# imagen usada: 3.9.16-bullseye
# Comandos necesarios para la instalaci√≥n de NetBox (sin contar Postgres, Redis, Nginx, etc.)

apt update
apt install -y python3 python3-pip python3-venv python3-dev build-essential libxml2-dev libxslt1-dev libffi-dev libpq-dev libssl-dev zlib1g-dev
wget https://github.com/netbox-community/netbox/archive/refs/tags/v3.4.8.tar.gz
tar -xzf v3.4.8.tar.gz -C /opt
mv /opt/netbox-3.4.8/ /opt/netbox
adduser --system --group netbox
chown --recursive netbox /opt/netbox/netbox/media/
cp /opt/netbox/netbox/netbox/configuration_example.py /opt/netbox/netbox/netbox/configuration.py
/opt/netbox/upgrade.sh
source /opt/netbox/venv/bin/activate
python3 /opt/netbox/netbox/manage.py createsuperuser
python3 /opt/netbox/netbox/manage.py runserver 0.0.0.0:8000 --insecure